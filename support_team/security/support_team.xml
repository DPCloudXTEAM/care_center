<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="group_support_staff_level1" model="res.groups">
        <field name="name">Level 1 Support Staff</field>
        <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        <field name="comment">the user will have access to his own data in the support application.</field>
    </record>

    <record id="group_support_staff_level2" model="res.groups">
        <field name="name">Level 2 Support Staff</field>
        <field name="implied_ids" eval="[(4, ref('group_support_staff_level1'))]"/>
        <field name="comment">the user will have access to all records of everyone in the support application.</field>
    </record>

    <record id="group_support_manager" model="res.groups">
        <field name="name">Support Manager</field>
        <field name="comment">the user will have an access to the support configuration as well as statistic reports.</field>
        <field name="implied_ids" eval="[(4, ref('group_support_staff_level2'))]"/>
        <field name="users" eval="[(4, ref('base.user_root'))]"/>
    </record>


    <record id="support_rule_own_supportteam" model="ir.rule">
        <field name="name">Own Support Team</field>
        <field ref="support_team.model_support_team" name="model_id"/>
        <field name="domain_force">[('member_ids', 'in', user.id)]</field>
        <field name="groups" eval="[(4, ref('support_team.group_support_staff_level1'))]"/>
    </record>

    <record id="support_rule_all_supportteam" model="ir.rule">
        <field name="name">All Support Teams</field>
        <field ref="support_team.model_support_team" name="model_id"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('support_team.group_support_staff_level2'))]"/>
    </record>

    <record model="ir.rule" id="support_team_comp_rule">
        <field name="name">Support Team multi-company</field>
        <field name="model_id" ref="model_support_team"/>
        <field name="domain_force">['|',('company_id','=',False),('company_id','child_of',[user.company_id.id])]</field>
    </record>

    <record model="ir.ui.menu" id="support_team.menu_support_config">
        <field name="name">Configuration</field>
        <field eval="[(6,0,[ref('base.group_system')])]" name="groups_id"/>
    </record>

    <record model="ir.ui.menu" id="menu_config_address_book">
        <field name="name">Contacts</field>
        <field eval="[(6,0,[ref('base.group_system'), ref('base.group_partner_manager')])]" name="groups_id"/>
    </record>

    <data noupdate="1">
        <record id="base.default_user" model="res.users">
            <field name="groups_id" eval="[(4,ref('support_team.group_support_manager'))]"/>
        </record>
    </data>
</odoo>
